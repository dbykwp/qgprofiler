<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><link rel="stylesheet" type="text/css" href="http://spiermar.github.io/d3-flame-graph/d3.flameGraph.css"></head><body><div class="container"><div id="chart" style="margin-left: 50px;"></div></div></script><script type="text/javascript" src="http://d3js.org/d3.v3.min.js"></script><script type="text/javascript" src="http://labratrevenge.com/d3-tip/javascripts/d3.tip.v0.6.3.js"></script><script type="text/javascript" src="http://spiermar.github.io/d3-flame-graph/d3.flameGraph.js"></script><script type="text/javascript">var data={"count": 1, "name": "my-test", "value": 1.107263, "overhead": 1.4e-05, "attributes": {"s1": {"type": "sum", "value": 45.0}, "m1": {"type": "max", "value": 900.0}}, "children": [{"count": 10, "name": "f", "value": 1.106567, "overhead": 0.000683, "attributes": {"s1": {"type": "sum", "value": 45.0}, "m1": {"type": "max", "value": 900.0}}, "children": [{"count": 10, "name": "g", "value": 0.103612, "overhead": 0.001141, "attributes": {"s1": {"type": "sum", "value": 0.0}, "m1": {"type": "max", "value": 0.0}}, "children": [{"count": 10, "name": "k", "value": 0.000419, "overhead": 0.001775, "attributes": {"s1": {"type": "sum", "value": 0.0}, "m1": {"type": "max", "value": 0.0}}, "children": []}]}]}]};var getDpt=function(e){var dpt=0;if(e.children){e.children.forEach(function(d){var tmpDpt=getDpt(d); if(tmpDpt>dpt){dpt=tmpDpt}})}; return 1+dpt},ht=getDpt(data), divHt, divWd, firstLoad=true; function renderChart(){var svg=d3.select("#chart"), locHt=+svg.style("height").split("px")[0], locWd=+svg.style("width").split("px")[0]; if(firstLoad || divHt!=locHt || divWd!=locWd){firstLoad=false; divHt=locHt; divWd=locWd; d3.selectAll(".d3-flame-graph").remove(); d3.selectAll(".d3-flame-graph-tip").remove(); var flameGraph=d3.flameGraph().height(locHt-5).width(locWd-5).cellHeight(18).transitionDuration(750).transitionEase("cubic-in-out").sort(!0).title(""),tip=d3.tip().direction("s").offset([8,0]).attr("class","d3-flame-graph-tip").html(function(t){var attrTxt=""; if(t.attributes){for(var k in t.attributes){var v=+t.attributes[k].value; if(v){attrTxt += ", "+k+": "+v}}};return"name: "+t.name+", value: "+t.value+", count: "+t.count +", overhead: "+t.overhead+attrTxt;});flameGraph.tooltip(tip),svg.datum(data).call(flameGraph)}}; function renderNextChart(){renderChart(); setTimeout(renderNextChart, 500);}; document.onreadystatechange=function(){if(document.readyState=="complete"){divHt=60+ht*20, divWd=960; d3.select("#chart").style('width', divWd+"px").style("height", divHt+"px").style("-moz-appearance", "textfield-multiline").style("-webkit-appearance", "textarea").style("overflow", "auto").style("resize", "both").style("border", "1px solid gray");renderNextChart();}};</script></body></html>